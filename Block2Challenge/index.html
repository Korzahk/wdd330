<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WDD-330-03 Block 2 Challenge: Online Aural Intonation Training</title>
  </head>
  <body>
    <h1><a href="../index.html">WDD 330 Portfolio</a></h1>
    <h2>Block 2 Challenge: Free Online Aural Intonation Training</h2>
    <p class="description">
        This is a free resource to develop your aural sense of intonation precision.
    </p>
    <label for="min">min:</label>
    <select id="min" name="min">
      <option value="5" selected>5</option>
      <option value="10">10</option>
      <option value="15">15</option>
      <option value="20">20</option>
      <option value="25">25</option>
    </select>
    <label for="max">max:</label>
    <select id="max" name="max">
      <option value="5">5</option>
      <option value="10">10</option>
      <option value="15">15</option>
      <option value="20">20</option>
      <option value="25" selected>25</option>
    </select>
    <button type="button" id="play" onclick="play()">play exercise</button> 
    <script>
      function getRandomInt(max) {
        return Math.floor(Math.random() * max);
      }
      function getSign() {
        let sign = getRandomInt(2);
        if (sign) return 'p';
        else return 'n';
      }
      function getMagnitude(myMin, myMax) {
        let myRange = (myMax - myMin) / 5;
        let magnitude = (getRandomInt(myRange) + 1) * 5 + Number(myMin) - 5;
        console.log('magnitude: ' + magnitude);
        return magnitude.toString();
      }
      function play() {
        let sign = getSign();
        let myMin = document.getElementById('min').value;
        let myMax = document.getElementById('max').value;
        let magnitude = getMagnitude(myMin, myMax);
        let myStr = 'audio/' + sign + magnitude + '.mp3';
        console.log('myMin: ' + myMin);
        console.log(myStr);
        console.log('myMax: ' + myMax);
        myAudio = new Audio(myStr);
        myAudio.play();
      }
    </script>
  </body>
</html>